<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>Web Crypto Samples</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="polycrypt/common/util.js"></script>
<script src="polycrypt/front/polycrypt.js"></script>

<!-- Bootstrap -->
<link href="css/bootstrap.min.css" rel="stylesheet">

<style type="text/css">
	.signature-valid {
		background-color: #dff0d8; 
		color: #468847;
	}

	.signature-invalid {
		background-color: #f0dfd8; 
		color: #884647;
	}

</style>
</head>
<body>
	<nav class="navbar navbar-default" role="navigation">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse"
				data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span> <span
					class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="index.html">Crypto samples</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse"
			id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				<li ><a href="hash.html">Hash</a></li>
				<li ><a href="sign.html">Sign</a></li>
				<li><a href="encrypt.html">Encrypt &amp; Decrypt</a></li>
			</ul>
			<ul class="nav navbar-nav pull-right">
				<li><a href="debug.html"><span class="glyphicon glyphicon-link"></span></a></li>
			</ul>
		</div>
	</nav>
	<section class="container">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title">
					<a data-toggle="collapse" data-parent="#accordion" href="#encryptBody">Base64 Decode</a>
				</h3>
			</div>
			<div id="encryptBody">
				<div class="panel-body">
					<form role="form">
						<div class="form-group">
							<label for="message">Base64 Encoded</label>
							<textarea class="form-control" rows="6" id="message"></textarea>
						</div>
						<div class="form-group">
							<label for="message-decoded">Decoded</label>
							<textarea class="form-control" rows="12" id="message-decoded"></textarea>
						</div>
					</form>
				</div>
			</div>
		</div>
	</section>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="js/lib/jquery-2.0.3.min.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/lib/bootstrap.min.js"></script>
	<script src="js/lib/base64.js"></script>
	<script src="js/utils.js"></script>
	<script type="text/javascript">
		$('#message').keyup(function() {
			var decoded = bleeken.sample.utils.ab2str(Base64Binary.decodeArrayBuffer($('#message').val()));
			try {
				$('#message-decoded').text(JSON.stringify(JSON.parse(decoded), null, '\t'));
			}
			catch(err) {
				$('#message-decoded').text(decoded);
			}
		});
	</script>
</body>
</html>
